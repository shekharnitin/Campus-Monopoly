<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IIT (ISM) Dhanbad Campus Monopoly</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Main Menu -->
    <div id="mainMenu" class="screen">
        <div class="main-menu-container">
            <h1>IIT (ISM) Dhanbad<br>Campus Monopoly</h1>
            <div class="menu-buttons">
                <button class="btn btn--primary btn--lg" id="hostGameBtn">üéÆ Host New Game</button>
                <button class="btn btn--secondary btn--lg" id="joinGameBtn">üë• Join Game</button>
                <button class="btn btn--outline btn--lg" id="viewRulesBtn">üìã View Rules</button>
            </div>
        </div>
    </div>

    <!-- Join Game Screen -->
    <div id="joinGameScreen" class="screen hidden">
        <div class="join-game-container">
            <h2>Join Game</h2>
            <div class="form-group">
                <label class="form-label" for="gameCodeInput">Enter Game Code</label>
                <input type="text" class="form-control" id="gameCodeInput" placeholder="Enter 6-digit code">
            </div>
            <div class="form-group">
                <label class="form-label" for="playerNameInput">Your Name</label>
                <input type="text" class="form-control" id="playerNameInput" placeholder="Enter your name">
            </div>
            <div class="menu-buttons">
                <button class="btn btn--primary" id="joinGameSubmitBtn">Join Game</button>
                <button class="btn btn--outline" id="backToMenuBtn">Back to Menu</button>
            </div>
        </div>
    </div>

    <!-- Player Waiting Screen -->
    <div id="playerWaiting" class="screen hidden">
    <div class="waiting-container">
        <h1>üéÆ Campus Monopoly</h1>
        <p>Game Code: <strong id="waitingGameCode">------</strong></p>
        <p>Waiting for host to start the game...</p>
        
        <!-- Add player list for waiting players -->
        <div class="players-section">
            <h3>Players in Game (<span id="waitingPlayerCount">0</span>)</h3>
            <div id="waitingPlayersList" class="players-list">
                <div class="text-muted">Loading players...</div>
            </div>
        </div>
        
        <div class="waiting-animation">
            <div class="spinner"></div>
        </div>
    </div>
</div>

    <!-- Host Dashboard -->
    <div id="hostDashboard" class="screen hidden">
  <div class="host-container">
    <div class="host-header">
      <div>
        <h1>üéÆ Host Dashboard</h1>
        <p>You are the game host/spectator</p>
      </div>
      <div class="game-code-display">
        <span>Game Code: <strong id="hostGameCode">------</strong></span>
        <button id="copyCodeBtn" class="btn btn--secondary btn--small">Copy Code</button>
      </div>
    </div>
    
    <div class="host-content">
      <div class="players-section">
        <h3>Players Joined (<span id="playerCount">0</span>)</h3>
        <div id="playersList" class="players-list">
          <div class="text-muted">Waiting for players to join...</div>
        </div>
      </div>
      
      <div class="game-controls">
        <button id="startGameBtn" class="btn btn--success" disabled>Start Game (Need 2+ players)</button>
        <button id="endGameHostBtn" class="btn btn--danger">End Game</button>
      </div>
    </div>
  </div>
</div>

    <div id="cardModal" class="card-modal">
        <div class="card-modal-content">
            <h3 id="cardType">Chance Card</h3>
            <p id="cardMessage">Card message will appear here</p>
            <button onclick="closeCardModal()">Continue</button>
        </div>
    </div>
    <!-- Host Spectator View -->
    <div id="hostSpectatorView" class="screen hidden">
        <div class="spectator-container">
            <div class="spectator-header">
                <h1>üéÆ Host Dashboard - Spectating Game</h1>
                <div class="game-code-display">
                    <span>Game Code: <strong id="spectatorGameCode"></strong></span>
                    <button id="copySpectatorCodeBtn" class="btn btn--secondary btn--small">Copy Code</button>
                </div>
            </div>

            <div class="spectator-content">
                <div class="game-area">
                    <!-- Same monopoly board as regular game -->
                    <div class="monopoly-board" id="spectatorBoard">
                        <div class="board-center">
                            <h2>Campus Monopoly</h2>
                            <div class="current-turn-info">
                                <p>Current Turn:</p>
                                <div id="currentTurnPlayer">-</div>
                            </div>
                        </div>
                        <div class="board-spaces" id="spectatorBoardSpaces"></div>
                    </div>
                </div>

                <div class="host-sidebar">
                    <div id="hostControls" class="host-controls"></div>

                    <div class="players-panel">
                        <h3>Players in Game</h3>
                        <div id="spectatorAllPlayers"></div>
                    </div>

                    <div class="game-log-panel">
                        <h3>Game Log</h3>
                        <div id="spectatorGameLog" class="game-log"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>




    <!-- Building Modal -->
    <div id="buildingModal" class="card-modal" style="display: none;">
        <div class="card-modal-content">
            <h3 id="buildingModalTitle">Build Property</h3>
            <p id="buildingModalMessage">Would you like to build?</p>
            <div class="building-actions">
                <button id="buildConfirmBtn" class="btn btn--success">
                    Build
                </button>
                <button onclick="closeBuildingModal()" class="btn btn--danger">
                    Pass
                </button>
            </div>
        </div>
    </div>
    <!-- Game Board -->
    <div id="gameBoard" class="screen hidden">
        <div class="board-container">
            <div class="game-header">
                <div class="player-info">
                    <span id="currentPlayerName"></span>
                    <span id="currentPlayerMoney">‚Çπ1500</span>
                </div>
                <div class="game-actions">
                    <button class="btn btn--primary" id="rollDiceBtn">üé≤ Roll Dice</button>
                    <button class="btn btn--success" id="buyPropertyBtn" style="display: none;">üí∞ Buy Property</button>
                    <button class="btn btn--warning" id="sellPropertyBtn" style="display: none;">üè™ Sell
                        Property</button>
                    <button class="btn btn--outline" id="endTurnBtn" style="display: none;">‚è≠Ô∏è End Turn</button>
                </div>
            </div>

            <div class="monopoly-board">
                <div class="board-center">
                    <h3>IIT (ISM) Dhanbad</h3>
                    <div id="diceDisplay">
                        <div class="dice" id="dice1">1</div>
                        <div class="dice" id="dice2">1</div>
                    </div>
                    <div id="gameLog" class="game-log"></div>
                </div>

                <!-- Board spaces will be generated by JavaScript -->
                <div id="boardSpaces" class="board-spaces"></div>
            </div>

            <div class="sidebar">
                <div class="properties-panel">
                    <h3>Your Properties</h3>
                    <div id="playerProperties"></div>
                </div>

                <div class="players-panel">
                    <h3>All Players</h3>
                    <div id="gameBoardAllPlayers"></div>
                </div>
                <div id="jailCardCounter" class="jail-card-counter">
                    üÉè Get Out of Jail Free Cards: <span id="jailCardsCount">0</span>
                </div>
                <div id="jailOptions" class="jail-options" style="display: none;">
                    <div class="jail-info">
                        <h4>üè´ In Detention</h4>
                        <p>You can:</p>
                        <div class="jail-actions">
                            <button id="payJailFineBtn" class="btn btn--warning btn--small" onclick="payJailFine()">
                                Pay ‚Çπ50 Fine
                            </button>
                            <button id="useJailCardBtn" class="btn btn--success btn--small" onclick="useJailCard()">
                                Use "Get Out Free" Card
                            </button>
                            <button id="rollForDoublesBtn" class="btn btn--primary btn--small" onclick="rollDice()">
                                Roll for Doubles
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="app.js"></script>
</body>

</html>